name: Options Test Suite
description: Test suite to verify command-line options handling. Uses bashi to test bashi.

variables:
  bashi: $(pwd)/src/bashi

tests:
  - name: Version test
    command: "{{bashi}} --version"
    exitCode: 0
    outputContains:
       - "bashi version"

  - name: Help test
    command: "{{bashi}} --help"
    exitCode: 0
    outputContains:
       - "Usage:"

  - name: Run basic test suite
    command: "{{bashi}} ./tests/basic.bashi.yaml"
    exitCode: 0
    outputContains:
       - "Echo test with variable substitution"
       - "Exit code test"
       - "Stderr test"
  
  # - name: Timings Option
  #   command: "{{bashi}} ./tests/basic.bashi.yaml --timing"
  #   exitCode: 0
  #   outputMatches: "\\[[0-9]+\\]"