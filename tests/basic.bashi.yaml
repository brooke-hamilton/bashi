name: Basic Test Suite
description: Simple test to verify bashi functionality

variables:
  greeting: Hello
  target: World

tests:
  - name: Echo test with variable substitution
    command: echo "{{greeting}} {{target}}"
    exitCode: 0
    outputContains:
      - "Hello World"

  - name: Exit code test
    command: /bin/false
    exitCode: 1

  - name: Stderr test
    command: echo "Error message" >&2
    exitCode: 0
    stderr: "Error message"
  
  - name: Skip test example
    command: echo "This test will be skipped"
    skip: true
    exitCode: 1

  - name: Multi-line command test
    command: |
      echo "this is a line1 test"
      echo "this is a line 2 test"
    exitCode: 0
    outputContains:
      - "line1"
      - "line 2"

  - name: "Heredoc in command test"
    command: |
      cat <<EOF | yq '.name'
      name: testvalue
      version: 1.0
      EOF
    exitCode: 0
    outputEquals: "testvalue"
